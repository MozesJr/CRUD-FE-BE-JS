{"remainingRequest":"D:\\Belajar\\student-crud\\frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\Belajar\\student-crud\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\Belajar\\student-crud\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\Belajar\\student-crud\\frontend\\src\\views\\Majors.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\Belajar\\student-crud\\frontend\\src\\views\\Majors.vue","mtime":1719956825655},{"path":"D:\\Belajar\\student-crud\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1719891016531},{"path":"D:\\Belajar\\student-crud\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1719891016551},{"path":"D:\\Belajar\\student-crud\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1719891016531},{"path":"D:\\Belajar\\student-crud\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1719891016195}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IFN3YWwgZnJvbSAnc3dlZXRhbGVydDInOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1ham9yczogW10sCiAgICAgIG1ham9yOiB7CiAgICAgICAgbmFtZTogJycKICAgICAgfSwKICAgICAgZWRpdGluZzogZmFsc2UsCiAgICAgIGN1cnJlbnRJZDogbnVsbAogICAgfTsKICB9LAogIGFzeW5jIGNyZWF0ZWQoKSB7CiAgICBhd2FpdCB0aGlzLmZldGNoTWFqb3JzKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBmZXRjaE1ham9ycygpIHsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldCgnaHR0cDovL2xvY2FsaG9zdDo1MDAwL2FwaS9tYWpvcnMnKTsKICAgICAgICB0aGlzLm1ham9ycyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcigiRXJyb3IgZmV0Y2hpbmcgbWFqb3JzOiIsIGVycm9yKTsKICAgICAgfQogICAgfSwKICAgIGFzeW5jIGhhbmRsZVN1Ym1pdCgpIHsKICAgICAgdHJ5IHsKICAgICAgICBpZiAodGhpcy5lZGl0aW5nKSB7CiAgICAgICAgICBhd2FpdCBheGlvcy5wdXQoYGh0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9hcGkvbWFqb3JzLyR7dGhpcy5jdXJyZW50SWR9YCwgdGhpcy5tYWpvcik7CiAgICAgICAgICBTd2FsLmZpcmUoJ1VwZGF0ZWQhJywgJ0p1cnVzYW4gdGVsYWggZGlwZXJiYXJ1aS4nLCAnc3VjY2VzcycpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhd2FpdCBheGlvcy5wb3N0KCdodHRwOi8vbG9jYWxob3N0OjUwMDAvYXBpL21ham9ycycsIHRoaXMubWFqb3IpOwogICAgICAgICAgU3dhbC5maXJlKCdBZGRlZCEnLCAnSnVydXNhbiB0ZWxhaCBkaXRhbWJhaGthbi4nLCAnc3VjY2VzcycpOwogICAgICAgIH0KICAgICAgICB0aGlzLm1ham9yID0gewogICAgICAgICAgbmFtZTogJycKICAgICAgICB9OwogICAgICAgIHRoaXMuZWRpdGluZyA9IGZhbHNlOwogICAgICAgIHRoaXMuY3VycmVudElkID0gbnVsbDsKICAgICAgICBhd2FpdCB0aGlzLmZldGNoTWFqb3JzKCk7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcigiRXJyb3Igc2F2aW5nIG1ham9yOiIsIGVycm9yKTsKICAgICAgfQogICAgfSwKICAgIGVkaXRNYWpvcihtYWpvcikgewogICAgICB0aGlzLm1ham9yID0gewogICAgICAgIC4uLm1ham9yCiAgICAgIH07CiAgICAgIHRoaXMuZWRpdGluZyA9IHRydWU7CiAgICAgIHRoaXMuY3VycmVudElkID0gbWFqb3IuX2lkOwogICAgfSwKICAgIGFzeW5jIGNvbmZpcm1EZWxldGVNYWpvcihpZCkgewogICAgICBTd2FsLmZpcmUoewogICAgICAgIHRpdGxlOiAnQXJlIHlvdSBzdXJlPycsCiAgICAgICAgdGV4dDogJ1lvdSB3b25cJ3QgYmUgYWJsZSB0byByZXZlcnQgdGhpcyEnLAogICAgICAgIGljb246ICd3YXJuaW5nJywKICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogJyMzMDg1ZDYnLAogICAgICAgIGNhbmNlbEJ1dHRvbkNvbG9yOiAnI2QzMycsCiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICdZZXMsIGRlbGV0ZSBpdCEnCiAgICAgIH0pLnRoZW4oYXN5bmMgcmVzdWx0ID0+IHsKICAgICAgICBpZiAocmVzdWx0LmlzQ29uZmlybWVkKSB7CiAgICAgICAgICBhd2FpdCBheGlvcy5kZWxldGUoYGh0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9hcGkvbWFqb3JzLyR7aWR9YCk7CiAgICAgICAgICBTd2FsLmZpcmUoJ0RlbGV0ZWQhJywgJ0p1cnVzYW4gdGVsYWggZGloYXB1cy4nLCAnc3VjY2VzcycpOwogICAgICAgICAgYXdhaXQgdGhpcy5mZXRjaE1ham9ycygpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["axios","Swal","data","majors","major","name","editing","currentId","created","fetchMajors","methods","response","get","error","console","handleSubmit","put","fire","post","editMajor","_id","confirmDeleteMajor","id","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","then","result","isConfirmed","delete"],"sources":["D:\\Belajar\\student-crud\\frontend\\src\\views\\Majors.vue"],"sourcesContent":["<template>\r\n    <div>\r\n      <h1>Daftar Jurusan</h1>\r\n      <form @submit.prevent=\"handleSubmit\">\r\n        <div class=\"mb-3\">\r\n          <label for=\"name\" class=\"form-label\">Nama Jurusan</label>\r\n          <input type=\"text\" class=\"form-control\" id=\"name\" v-model=\"major.name\" required />\r\n        </div>\r\n        <button type=\"submit\" class=\"btn btn-primary\">{{ editing ? 'Update' : 'Add' }} Jurusan</button>\r\n      </form>\r\n      <table class=\"table mt-3\">\r\n        <thead>\r\n          <tr>\r\n            <th>Nama Jurusan</th>\r\n            <th>Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"major in majors\" :key=\"major._id\">\r\n            <td>{{ major.name }}</td>\r\n            <td>\r\n              <button class=\"btn btn-warning\" @click=\"editMajor(major)\">Edit</button>\r\n              <button class=\"btn btn-danger\" @click=\"confirmDeleteMajor(major._id)\">Delete</button>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import axios from 'axios';\r\n  import Swal from 'sweetalert2';\r\n  \r\n  export default {\r\n    data() {\r\n      return {\r\n        majors: [],\r\n        major: { name: '' },\r\n        editing: false,\r\n        currentId: null,\r\n      };\r\n    },\r\n    async created() {\r\n      await this.fetchMajors();\r\n    },\r\n    methods: {\r\n      async fetchMajors() {\r\n        try {\r\n          const response = await axios.get('http://localhost:5000/api/majors');\r\n          this.majors = response.data;\r\n        } catch (error) {\r\n          console.error(\"Error fetching majors:\", error);\r\n        }\r\n      },\r\n      async handleSubmit() {\r\n        try {\r\n          if (this.editing) {\r\n            await axios.put(`http://localhost:5000/api/majors/${this.currentId}`, this.major);\r\n            Swal.fire('Updated!', 'Jurusan telah diperbarui.', 'success');\r\n          } else {\r\n            await axios.post('http://localhost:5000/api/majors', this.major);\r\n            Swal.fire('Added!', 'Jurusan telah ditambahkan.', 'success');\r\n          }\r\n          this.major = { name: '' };\r\n          this.editing = false;\r\n          this.currentId = null;\r\n          await this.fetchMajors();\r\n        } catch (error) {\r\n          console.error(\"Error saving major:\", error);\r\n        }\r\n      },\r\n      editMajor(major) {\r\n        this.major = { ...major };\r\n        this.editing = true;\r\n        this.currentId = major._id;\r\n      },\r\n      async confirmDeleteMajor(id) {\r\n        Swal.fire({\r\n          title: 'Are you sure?',\r\n          text: 'You won\\'t be able to revert this!',\r\n          icon: 'warning',\r\n          showCancelButton: true,\r\n          confirmButtonColor: '#3085d6',\r\n          cancelButtonColor: '#d33',\r\n          confirmButtonText: 'Yes, delete it!',\r\n        }).then(async (result) => {\r\n          if (result.isConfirmed) {\r\n            await axios.delete(`http://localhost:5000/api/majors/${id}`);\r\n            Swal.fire('Deleted!', 'Jurusan telah dihapus.', 'success');\r\n            await this.fetchMajors();\r\n          }\r\n        });\r\n      },\r\n    },\r\n  };\r\n  </script>\r\n  "],"mappings":"AA+BE,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAOC,IAAG,MAAO,aAAa;AAE9B,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,MAAM,EAAE,EAAE;MACVC,KAAK,EAAE;QAAEC,IAAI,EAAE;MAAG,CAAC;MACnBC,OAAO,EAAE,KAAK;MACdC,SAAS,EAAE;IACb,CAAC;EACH,CAAC;EACD,MAAMC,OAAOA,CAAA,EAAG;IACd,MAAM,IAAI,CAACC,WAAW,CAAC,CAAC;EAC1B,CAAC;EACDC,OAAO,EAAE;IACP,MAAMD,WAAWA,CAAA,EAAG;MAClB,IAAI;QACF,MAAME,QAAO,GAAI,MAAMX,KAAK,CAACY,GAAG,CAAC,kCAAkC,CAAC;QACpE,IAAI,CAACT,MAAK,GAAIQ,QAAQ,CAACT,IAAI;MAC7B,EAAE,OAAOW,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;MAChD;IACF,CAAC;IACD,MAAME,YAAYA,CAAA,EAAG;MACnB,IAAI;QACF,IAAI,IAAI,CAACT,OAAO,EAAE;UAChB,MAAMN,KAAK,CAACgB,GAAG,CAAC,oCAAoC,IAAI,CAACT,SAAS,EAAE,EAAE,IAAI,CAACH,KAAK,CAAC;UACjFH,IAAI,CAACgB,IAAI,CAAC,UAAU,EAAE,2BAA2B,EAAE,SAAS,CAAC;QAC/D,OAAO;UACL,MAAMjB,KAAK,CAACkB,IAAI,CAAC,kCAAkC,EAAE,IAAI,CAACd,KAAK,CAAC;UAChEH,IAAI,CAACgB,IAAI,CAAC,QAAQ,EAAE,4BAA4B,EAAE,SAAS,CAAC;QAC9D;QACA,IAAI,CAACb,KAAI,GAAI;UAAEC,IAAI,EAAE;QAAG,CAAC;QACzB,IAAI,CAACC,OAAM,GAAI,KAAK;QACpB,IAAI,CAACC,SAAQ,GAAI,IAAI;QACrB,MAAM,IAAI,CAACE,WAAW,CAAC,CAAC;MAC1B,EAAE,OAAOI,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;MAC7C;IACF,CAAC;IACDM,SAASA,CAACf,KAAK,EAAE;MACf,IAAI,CAACA,KAAI,GAAI;QAAE,GAAGA;MAAM,CAAC;MACzB,IAAI,CAACE,OAAM,GAAI,IAAI;MACnB,IAAI,CAACC,SAAQ,GAAIH,KAAK,CAACgB,GAAG;IAC5B,CAAC;IACD,MAAMC,kBAAkBA,CAACC,EAAE,EAAE;MAC3BrB,IAAI,CAACgB,IAAI,CAAC;QACRM,KAAK,EAAE,eAAe;QACtBC,IAAI,EAAE,oCAAoC;QAC1CC,IAAI,EAAE,SAAS;QACfC,gBAAgB,EAAE,IAAI;QACtBC,kBAAkB,EAAE,SAAS;QAC7BC,iBAAiB,EAAE,MAAM;QACzBC,iBAAiB,EAAE;MACrB,CAAC,CAAC,CAACC,IAAI,CAAC,MAAOC,MAAM,IAAK;QACxB,IAAIA,MAAM,CAACC,WAAW,EAAE;UACtB,MAAMhC,KAAK,CAACiC,MAAM,CAAC,oCAAoCX,EAAE,EAAE,CAAC;UAC5DrB,IAAI,CAACgB,IAAI,CAAC,UAAU,EAAE,wBAAwB,EAAE,SAAS,CAAC;UAC1D,MAAM,IAAI,CAACR,WAAW,CAAC,CAAC;QAC1B;MACF,CAAC,CAAC;IACJ;EACF;AACF,CAAC","ignoreList":[]}]}